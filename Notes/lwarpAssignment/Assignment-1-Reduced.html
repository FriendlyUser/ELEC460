

<!DOCTYPE html>

<html lang="en-US">

<head>

<meta charset="UTF-8" />

<meta name="author" content="David Li" />

<meta name="generator" content="LaTeX lwarp package" />

<meta name="description" content="Control Theory Notes" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!--[if lt IE 9]>

<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>

<![endif]-->

<title>ELEC 460 Course Notes — Assignment 1 Reduced</title>

<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<!-- https://groups.google.com/forum/#!topic/
                                            mathjax-users/jUtewUcE2bY -->
<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("TeX AMSmath Ready",function () {
       var seteqsectionDefault = {name: "", num: 0};
       var seteqsections = {}, seteqsection = seteqsectionDefault;
       var TEX = MathJax.InputJax.TeX, PARSE = TEX.Parse;
       var AMS = MathJax.Extension["TeX/AMSmath"];
       TEX.Definitions.Add({
       macros: {
             seteqsection: "mySection",
             seteqnumber: "mySetEqNumber"
       }
       });


       PARSE.Augment({
       mySection: function (name) {
             seteqsection.num = AMS.number;
             var n = this.GetArgument(name);
             if (n === "") {
             seteqsection = seteqsectionDefault;
             } else {
             if (!seteqsections["_"+n])
                  seteqsections["_"+n] = {name:n, num:0};
             seteqsection = seteqsections["_"+n];
             }
             AMS.number = seteqsection.num;
       },
       mySetEqNumber: function (name) {
             var n = this.GetArgument(name);
             if (!n || !n.match(/^ *[0-9]+ *$/))
                  n = ""; else n = parseInt(n)-1;
             <!-- $ syntax highlighting -->
             if (n === "" || n < 1)
                  TEX.Error
                  ("Argument to "+name+" should be a positive integer");
             AMS.number = n;
       }
       });
       MathJax.Hub.Config({
       TeX: {
             equationNumbers: {
             formatTag: function (n)
                  {return "("+(seteqsection.name+"."+n).replace(/^\./,"")+")"},
             formatID: function (n) {
                  n = (seteqsection.name+'.'+n).replace
                      (/[:"'<>&]/g,"").replace(/^\./,"");
                  return 'mjx-eqn-' + n;
             }
             }
       }
       });
});
</script>


<!-- http://docs.mathjax.org/en/latest/options/ThirdParty.html -->
<script type="text/x-mathjax-config">
  MathJax.Ajax.config.path["Contrib"] =
       "https://cdn.mathjax.org/mathjax/contrib";
</script>


<!-- https://github.com/burnpanck/MathJax-siunitx -->


<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
      extensions: ["tex2jax.js","[siunitx]/siunitx.js"],
      jax: ["input/TeX","output/HTML-CSS"],
      tex2jax: {
             inlineMath: [["$","$"],["\\(","\\)"]] ,
             processClass: "tabbing|verse"
       },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js", "sinuitx.js"]}
 });
 MathJax.Ajax.config.path['siunitx']               = 'http://rawgit.com/burnpanck/MathJax-siunitx/master/';
 </script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
       TeX: {
       equationNumbers: {
             autoNumber: "AMS"
       }
       }
});
</script>


<!-- Alternative CDN provider: -->
<script type="text/javascript" async
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML-full">
</script>


<!-- No longer supported after April 30, 2017: -->
<!--
<script
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full">
</script>
-->

</head>
<body>


<a id="autopage-2"></a> <nav class="topnavigation"><a href="index.html" class="linkhome"
>Home</a></nav>

<header>

</header>

<h1>ELEC 460 Course Notes</h1>
<nav class="sidetoc">

<div class="sidetoctitle">

<p>Contents</p>


</div>

<div class="sidetoccontents">

<p><a href="index.html" class="linkhome"
>Home</a></p>


<p></p>


</div>

</nav>

<section class="textbody">

<h4 id="autosec-3"> <span class="sectionnumber">0.1&#x2001;</span>Assignment 1 Reduced</h4><a
id="autopage-3"></a>
<div class="center">
<p><b> ELEC 460 — Control Theory II</b></p>


</div>

<p><b>Name:</b> David Li <span style="width:17pt; display:inline-block"></span> <b>Student Number:</b>
V00818631<br />
<b>Due Date:</b> Thursday, 11 January 2018, 11:30 AM <span style="width:17pt;
display:inline-block"></span> <b>Assignment:</b> Number 1<br />
</p>
<h5 id="autosec-5"> 1. Sketch the root locus</h5><a id="autopage-5"></a>
<h4 id="autosec-6"> </h4><a id="autopage-6"></a>

<figcaption>

</figcaption>
<p></p>
<pre class="programlisting" >
G1 = zpk([],[0,-1,-20],20) % create transfer function
figure(1); rlocus(G1) % Plot root locus
</pre>
<p></p>

<figcaption>
</figcaption>

<figure id="autoid-1" class="figure">

<p>
<a href="Assignments/A1/ELEC460A1_01.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_01.png"
style="width:304pt; "
class="inlineimage"
></a></p>


<figcaption>
<p>Figure&nbsp;0.1:&nbsp;Root Locus when K =1</p>


</figcaption>

</figure>
<h5 id="autosec-8"> 2. Find Kv.</h5><a id="autopage-8"></a>
<h4 id="autosec-9"> </h4><a id="autopage-9"></a>

<p>Using the final value theorem: \(x(\infty ) = \mathop {\lim }\limits _{s \to 0} sX(s)\)<br />
</p>


<figcaption>

</figcaption>
<p></p>
<pre class="programlisting" >
syms s ;Kv = limit(s*20/(s*(s+1)*(s+20)),s,0)% compute Kv using limits
</pre>
<p></p>

<figcaption>
</figcaption>
<h5 id="autosec-11"> 3. Sketch Bode and Nyquist plots.</h5><a id="autopage-11"></a>

<figcaption>

</figcaption>
<p></p>
<pre class="programlisting" >
figure(2); bode(G1)
figure(3); nyquist(G1)
</pre>
<p></p>

<figcaption>
</figcaption>

<figure id="autoid-2" class="figure">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:231pt ; ">

<p>
<a href="Assignments/A1/ELEC460A1_02.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_02.png"
style="width:206pt; "
class="inlineimage"
></a></p>


<figcaption>
<p>Figure&nbsp;0.2:&nbsp;Bode plot when K=1</p>


</figcaption>

</div>

&#x2001;

&#x2001;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:231pt ; ">

<p>
<a href="Assignments/A1/ELEC460A1_03.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_03.png"
style="width:206pt; "
class="inlineimage"
></a></p>


<figcaption>
<p>Figure&nbsp;0.3:&nbsp;Nyquist plot when K=1</p>


</figcaption>

</div>

</figure>
<h5 id="autosec-15"> 4. Find K so that \(\zeta =\sqrt (2)/2\) for the closed loop system.</h5><a
id="autopage-15"></a>

<p>Using the root locus the value K at which \(\zeta \) is 0.7071 is: 0.476.</p>
<h5 id="autosec-16"> 5. Find phase and gain margins for this K.</h5><a id="autopage-16"></a>

<figcaption>

</figcaption>
<p></p>
<pre class="programlisting" >
G1new = zpk([],[0,-1,-20],20*K)
figure(5); margin(G1new)
</pre>
<p></p>

<figcaption>
</figcaption>

<figure id="autoid-3" class="figure">

<p>
<a href="Assignments/A1/ELEC460A1_05.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_05.png"
style="width:304pt; "
class="inlineimage"
></a></p>


<figcaption>
<p>Figure&nbsp;0.4:&nbsp;Phase and Gain Margin in Bode Plot</p>


</figcaption>

</figure>
<h5 id="autosec-18"> 6. Sketch the step and ramp responses of the closed loop system for this K</h5><a
id="autopage-18"></a>

<figcaption>

</figcaption>
<p></p>
<pre class="programlisting" >
G1tfnew = tf(G1new)
subplot(2,1,1); step(G1tfnew); %% create subplot for step function
ramps = tf([1,0],[1]);
subplot(2,1,2); step(G1tfnew/ramps); %% create subplot for ramp function
</pre>
<p></p>

<figcaption>
</figcaption>

<figure id="autoid-4" class="figure">

<p>
<a href="Assignments/A1/ELEC460A1_06.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_06.png"
style="width:304pt; "
class="inlineimage"
></a></p>


<figcaption>
<p>Figure&nbsp;0.5:&nbsp;Step Response of Transfer function with K = 0.479</p>


</figcaption>

</figure>
<h5 id="autosec-20"> 7. Discuss the connection between Kv, zeta, margins and the response of the closed loop
system.</h5><a id="autopage-20"></a>

<p>The value of Kv is 1, so the steady state velocity error is constant. Additionally the system is stable because of a
positive phase and gain margin. Finally, the value of \(\zeta = 0.7071\) corresponds to a gain of 0.427.<br />
</p>
<div class="center">
<p><b> ELEC 460 — Control Theory II</b></p>


</div>

<p><b>Name:</b> David Li <span style="width:17pt; display:inline-block"></span> <b>Student Number:</b>
V00818631<br />
<b>Due Date:</b> Friday, 26 January 2018, 11:30 AM <span style="width:17pt; display:inline-block"></span>
<b>Assignment:</b> Number 2<br />
</p>
<p><span class="paragraph" id="autosec-22"> B-2-7</span><a id="autopage-22"></a> Obtain the z-transform
of the curve.</p>


<p>\[ f(x)= \begin {cases} &amp; x &lt; 2 = 0\\ &amp; 2 \geq x \leq 5 = \frac {x-2}{3} \\ &amp; x \geq 5 = 1
\end {cases} \]</p>


<figure id="autoid-5" class="figure">

<p><span id="lateximage1" class="lateximagesource"><!--
  1
       x(t)

0.75


 0.5


0.25

                                      t
          1   2   3   4   5   6   7       8
--><img src="lateximages\lateximage-1.svg" alt="image" style="" class="lateximage"></span></p>


<figcaption>
<p>Figure&nbsp;0.6:&nbsp;Picture for [?] But for discrete systems.</p>


</figcaption>

</figure>

<p>The function can be expressing using the heaviside \(u(t)\). </p>


<p><span class="hidden"> \( \seteqsection {0} \) </span> </p>



<!--



                                           1
                                    f (t) =  (x − 2)(u(t − 2) − u(t − 5)) + u(t − 5)
                                           3
                                           1
                                    f (t) = ((t − 2)θ(t − 2) − (t − 5)θ(t − 5))
                                           3


-->


<p>
\begin{align*} &amp; f(t) = \frac {1}{3}(x-2) (u(t-2)-u(t-5)) + u(t-5) \\ &amp; f(t) = \frac {1}{3}((t-2)\theta
(t-2)-(t-5)\theta (t-5)) \end{align*}
</p>


<p>Using matlab to find the z-transform, the answer is: </p>


<p>\[ \frac {z^2+z+1}{3\,z^4\,\left (z-1\right )} \]</p>


<p>and wolfram https://www.wolframalpha.com/input/?i=z+transform+1</p>


<p>Using the "proper method". </p>


<p><span class="hidden"> \( \seteqsection {0} \) </span> </p>



<!--



                  x(0) = 0, x(1) = 0, x(2) = 0, x(3) = 1/3, x(4) = 2/3, x(k) = 1, for k = 5, 6, 7 · · ·
                                                                      a1
                  Infinite Series: = a1 + a1 r + a1 r2 + · · · = S =
                                                                     1−r
                            ∞
                           X             1        2
                  X(z) =       xk z −k = z −3 + z −4 + z −5 + z −6 + z −7 · · ·
                           k=0
                                         3        3
                    1 −3
                   =  (z   + 2z −4 ) + z −5 + z −5 z −1 + z −5 z −2 · · ·
                    3
                    1                     z −5       z −3 (1 − z −1 ) + 2z −4 (1 − z −1 ) + 3z −5
                   = (z −3 + 2z −4 ) +           =
                    3                  1 − z −1                       3(1 − z −1 )
                       z −3 + z −4 + z −5
                   =
                          3(1 − z −1 )


-->


<p>
\begin{align*} &amp; x(0)=0, x(1) = 0, x(2)=0, x(3)=1/3, x(4) = 2/3, x(k) =1, \text {for k = 5, 6, 7} \cdots \\
&amp;\text {Infinite Series: } = a_1+a_1r + a_1r^2 + \cdots = S = \frac {a_1}{1-r} \\ &amp; X(z) = \sum
_{k=0}^{\infty } x_k z^{-k} = \frac {1}{3}z^{-3}+\frac {2}{3}z^{-4}+z^{-5}+z^{-6} + z^{-7} \cdots \\
&amp; = \frac {1}{3}(z^{-3}+2z^{-4})+z^{-5}+z^{-5}z^{-1} + z^{-5}z^{-2} \cdots \\ &amp; = \frac {1}{3}
(z^{-3}+2z^{-4}) + \frac {z^{-5}}{1-z^{-1}} = \frac
{z^{-3}(1-z^{-1})+2z^{-4}(1-z^{-1})+3z^{-5}}{3(1-z^{-1})} \\ &amp; = \frac
{z^{-3}+z^{-4}+z^{-5}}{3(1-z^{-1})} \end{align*}
</p>
<p><span class="paragraph" id="autosec-25"> B-2-12</span><a id="autopage-25"></a> Obtain the inverse
z-transform of </p>


<p>\[ X(z)=\frac {z^{-3}}{(1-z^{-1})(1-0.2z^{-1})} \]</p>


<p>in a closed form.</p>


<p>Using partial fractions </p>


<p><span class="hidden"> \( \seteqsection {0} \) </span> </p>



<!--



                                         z −3                     1            A      B       C
                    X(z) =                              =                   =     +         +
                             (1 −   z −1 )(1− 0.2z −1 )   z(z − 1)(z − 0.2)   z−1   z − 0.2   z
                    1 = Az(z − 0.2) + Bz(z − 1) + C(z − 1)(z − 0.2)
                    1 = Az 2 − 0.2Az + Bz 2 − Bz + Cz 2 − 1.2z + 0.2C
                    C = 5, A + B = −5,         0.2A + B = 0   A = −25/4,    B = 5/4
                           −25/4     5/4     5
                    X(z) =       +         +
                           z−1     z − 0.2   z
                    x(k) = 5δ(0)(k − 1) + 1.25 − 6.25(0.2)k−1     for k = 1, 2, 3, ..



-->


<p>
\begin{align*} &amp; X(z) = \frac {z^{-3}}{(1-z^{-1})(1-0.2z^{-1})}=\frac {1}{z(z-1)(z-0.2)}=\frac
{A}{z-1}+\frac {B}{z-0.2}+ \frac {C}{z}\\ &amp; 1 = Az(z-0.2)+Bz(z-1)+C(z-1)(z-0.2) \\ &amp; 1 =
Az^2-0.2Az+Bz^2-Bz+Cz^2-1.2z+0.2C \\ &amp; C = 5, A+B=-5, \quad 0.2A+B=0 \quad A=-25/4, \quad B =
5/4 \\ &amp; X(z) = \frac {-25/4}{z-1}+\frac {5/4}{z-0.2}+\frac {5}{z} \\ &amp; x(k) = 5 \delta
(0)(k-1)+1.25-6.25(0.2)^{k-1} \quad \text {for } k =1,2,3, .. \end{align*}
</p>
<p><span class="paragraph" id="autosec-26"> B-2-17</span><a id="autopage-26"></a> Solve the following
difference equation: </p>


<p>\[x(k+2)-x(k+1)+0.25 x(k)= u(k+2) \]</p>


<p>where x(0)=1 and x(1) =2. The input function \(u(k)\) is given by </p>


<p>\[u(k)=1, \qquad k=0,1,2 \cdots \]</p>


<p>Solve this problem both analytically and computationally with MATLAB.</p>


<p>Taking the Z-transform of the difference equation </p>


<p><span class="hidden"> \( \seteqsection {0} \) </span> </p>



<!--



                  z 2 X(z) − z 2 x(0) − zx(1) − [zX(z) − zx(0)] + 0.25X(z) = z 2 U (z) − z 2 u(0) − zu(1)
                                                             z
                  X(z)[z 2 − z + 0.25] − z 2 − 2z + z = z 2      − z2 − z
                                                            z−1
                                            z3
                  X(z)[z 2 − z + 0.25] =
                                           z−1
                             z3          1          4z        3z       0.5z
                  X(z) =                         =      −          −
                           z − 1 z 2 − z + 0.25    z−1      2z − 1   (2z − 1)2
                  x(k) = 4 − (3 + k)(0.5)k      for k = 0, 1, 2 · · ·



-->


<p>
\begin{align*} &amp; z^2X(z)-z^2x(0)-zx(1)-[zX(z)-zx(0)]+0.25X(z)= z^2U(z)-z^2u(0)-zu(1) \\ &amp;
X(z)[z^2-z+0.25]-z^2-2z+z=z^2 \frac {z}{z-1}-z^2-z \\ &amp; X(z)[z^2-z+0.25]=\frac {z^3}{z-1} \\ &amp;
X(z)=\frac {z^3}{z-1}\frac {1}{z^2-z+0.25}=\frac {4z}{z-1}-\frac {3z}{2z-1}-\frac {0.5z}{(2z-1)^2} \\ &amp;
x(k) = 4-(3+k)(0.5)^k \qquad \text {for } k = 0,1,2 \cdots \end{align*}
</p>


<p>Calling </p>


<figcaption>

</figcaption>
<p><span class="inlineprogramlisting"> p a r t f r a c ( z ^ 2 / ( ( z −1) ∗ ( z −0.5) ^2) ) </span></p>

<figcaption>
</figcaption>

<p>in Matlab results in the partial fraction decomposition. </p>


<p><span class="hidden"> \( \seteqsection {0} \) </span> </p>



<!--



                                               4z     3z       0.5z
                                     X(z) =       −        −
                                              z−1   2z − 1   (2z − 1)2
                                     x(k) = 4 − (3 + k)(0.5)k           for k = 0, 1, 2 · · ·



-->


<p>
\begin{align*} &amp; X(z) =\frac {4z}{z-1}-\frac {3z}{2z-1}-\frac {0.5z}{(2z-1)^2} \\ &amp; x(k) =
4-(3+k)(0.5)^k \qquad \text {for } k = 0,1,2 \cdots \end{align*}
</p>


<p>Computing the answer computational</p>


<figcaption>

<p><a id="autoid-6"></a>Listing&nbsp;1:&nbsp;Matlab Code for B-2-17</p>


</figcaption>
<pre class="programlisting" >



numerator = [1 0 0]; % z^3
denomiator = [1 -1 0.25];
u = ones(1,51);
k = 0:50;
xk = filter(numerator,denomiator,u)
plot(k,xk,'-ro');grid;
v = [0 50 0 5]; axis(v);
xlabel('k');ylabel('x(k)')
title('Unit-Step Response');
print('B-2-17-matlab.png','-dpng','-r300')
</pre>
<figcaption>
</figcaption>

<figure id="autoid-7" class="figure">

<p>
<a href="Assignments/A2/B-2-17-matlab.png" target="_blank"
><img src="Assignments/A2/B-2-17-matlab.png"
style="width:434pt; "
class="inlineimage"
></a></p>


<figcaption>
<p>Figure&nbsp;0.7:&nbsp;Computational Approach to B-2-17 in Matlab</p>


</figcaption>

<a id="fig:b-2-17-matlab"></a>

</figure>

</section>

<footer>

</footer>

<nav class="botnavigation"><a href="index.html" class="linkhome"
>Home</a></nav>

</body>
</html>
