
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="David Li" />
<meta name="generator" content="LaTeX lwarp package" />
<meta name="description" content="Control Theory Notes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>ELEC 460 Course Notes — Course Work</title>
<link rel="stylesheet" href="prism.css" type="text/css">
<script src="prism.js" type="text/javascript"> </script>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />

<!-- https://groups.google.com/forum/#!topic/
                                      mathjax-users/jUtewUcE2bY -->
<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("TeX AMSmath Ready",function () {
       var seteqsectionDefault = {name: "", num: 0};
       var seteqsections = {}, seteqsection = seteqsectionDefault;
       var TEX = MathJax.InputJax.TeX, PARSE = TEX.Parse;
       var AMS = MathJax.Extension["TeX/AMSmath"];
       TEX.Definitions.Add({
       macros: {
             seteqsection: "mySection",
             seteqnumber: "mySetEqNumber"
       }
       });


       PARSE.Augment({
       mySection: function (name) {
             seteqsection.num = AMS.number;
             var n = this.GetArgument(name);
             if (n === "") {
             seteqsection = seteqsectionDefault;
             } else {
             if (!seteqsections["_"+n])
                 seteqsections["_"+n] = {name:n, num:0};
             seteqsection = seteqsections["_"+n];
             }
             AMS.number = seteqsection.num;
       },
       mySetEqNumber: function (name) {
             var n = this.GetArgument(name);
             if (!n || !n.match(/^ *[0-9]+ *$/))
                 n = ""; else n = parseInt(n)-1;
             <!-- $ syntax highlighting -->
             if (n === "" || n < 1)
                 TEX.Error
                 ("Argument to "+name+" should be a positive integer");
             AMS.number = n;
       }
       });
       MathJax.Hub.Config({
       TeX: {
             equationNumbers: {
             formatTag: function (n)
                 {return "("+(seteqsection.name+"."+n).replace(/^\./,"")+")"},
             formatID: function (n) {
                 n = (seteqsection.name+'.'+n).replace
                        (/[:"'<>&]/g,"").replace(/^\./,"");
                 return 'mjx-eqn-' + n;
             }
             }
       }
       });
});
</script>


<!-- http://docs.mathjax.org/en/latest/options/ThirdParty.html -->
<script type="text/x-mathjax-config">
  MathJax.Ajax.config.path["Contrib"] =
       "https://cdn.mathjax.org/mathjax/contrib";
</script>


<!-- https://github.com/burnpanck/MathJax-siunitx -->


<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
      extensions: ["tex2jax.js","[siunitx]/siunitx.js"],
      jax: ["input/TeX","output/HTML-CSS"],
      tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js", "sinuitx.js"]}
 });
 MathJax.Ajax.config.path['siunitx']         = 'http://rawgit.com/burnpanck/MathJax-siunitx/master/';
 </script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
       TeX: {
       equationNumbers: {
             autoNumber: "AMS"
       }
       }
});
</script>


<!-- Alternative CDN provider: -->
<script type="text/javascript" async
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML-full">
</script>


<!-- No longer supported after April 30, 2017: -->
<!--
<script
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full">
</script>
-->

</head>
<body>


<nav class="topnavigation"><a href="index.html" class="linkhome"
>Home</a></nav>

<header>

</header>

<h1>ELEC 460 Course Notes</h1>
<nav class="sidetoc">

<div class="sidetoctitle">

<p>Contents</p>


</div>

<div class="sidetoccontents">

<p><a href="index.html" class="linkhome"
>Home</a></p>


<p><a href="index.html#autosec-9" class="tocchapter"
>Index</a></p>


<p><a href="Control-Theory.html#autosec-12" class="tocpart"
><span class="sectionnumber">I</span>&#x2001;Control Theory</a></p>


<p><a href="Control-Theory.html#autosec-13" class="tocchapter"
><span class="sectionnumber">1</span>&#x2001;Course Information</a></p>


<p><a href="Introduction-Review.html#autosec-17" class="tocchapter"
><span class="sectionnumber">2</span>&#x2001;Introduction and Review</a></p>


<p><a href="Other-Useful-Concepts.html#autosec-31" class="tocchapter"
><span class="sectionnumber">3</span>&#x2001;Other Useful Concepts</a></p>


<p><a href="Example-commands.html#autosec-48" class="tocchapter"
><span class="sectionnumber">4</span>&#x2001;Example commands</a></p>


<p><a href="Course-Work.html#autosec-72" class="tocpart"
><span class="sectionnumber">II</span>&#x2001;Course Work</a></p>


<p><a href="Course-Work.html#autosec-73" class="tocchapter"
><span class="sectionnumber">5</span>&#x2001;Assignments</a></p>


<p><a href="Back-Matter.html#autosec-94" class="tocpart"
><span class="sectionnumber">III</span>&#x2001;Back Matter</a></p>


<p><a href="Back-Matter.html#autosec-97" class="tocchapter"
>References</a></p>


<p><a href="Back-Matter.html#autosec-97" class="tocchapter"
>Glossary</a></p>


</div>

</nav>

<section class="textbody">

<h2 id="autosec-72"> Part&nbsp;<span class="sectionnumber">II&#x2001;</span>Course Work</h2><a
id="autopage-72"></a>
<h3 id="autosec-73"> <span class="sectionnumber">5&#x2001;</span>Assignments</h3><a
id="autopage-73"></a>

<p>This assignments will contain python and matlab code as well as latex code (creating diagrams).</p>


<p>I will look into creating classic bode plots using python libariries such as matplotlib. Other diagrams will be
produced by either inkscape or tikz.</p>
<h4 id="autosec-74"> <span class="sectionnumber">5.1&#x2001;</span>Assignment 1</h4><a
id="autopage-74"></a>

<p></p>

         <p>Python Script 5.1</p>


         <pre><code class = "language-python">
         rom numpy import *
         from pylab import *
         from control . matlab import *
         import time
         ion ()
         # # Get transfer function from G ( s ) = 1 * K / ( s *( s +1) *( s +20) ) when K = 1
         # from sympy import *
         import sympy as sympy
         from sympy import init_printing
         # % logstart -o
         init_printing ()
         s = sympy . Symbol ( 's ')    # Symbol , `a ` , stored as variable
         Gs = sympy . expand (( s *( s +1) *( s +20) ) ** -1)
         print ( Gs )
         # Print Rlocus
         sys = tf ([1] ,[1 ,21 ,20 ,0])
         rvect , kvect = rlocus ( sys )
         </code>
</pre>

<p>                                                                                             </p>


<div class="epigraph">

<div class="qitem">

<p>This assignment will contain output from matlab and python. </p>


<div class="epigraphsource">

<p>David Li </p>


</div>

</div>

</div>
<pre class="verbatim" >
1/(s**3 + 21*s**2 + 20*s)
</code>
</pre>


<figure id="autoid-13" class="figure">

<p>
<a href="Assignments/A1/ipython_files/qt_img486735758753796.png" target="_blank"
><img src="Assignments/A1/ipython_files/qt_img486735758753796.png"
alt="[qt_img486735758753796]"
style="width:304pt;"
class="inlineimage"
></a></p>


<figcaption>

<p><a id="autoid-13"></a>Figure&nbsp;5.1:&nbsp;Root Locus created using matplotlib and python control library</p>




</figcaption>

<a id="fig:qtimg486735758753796"></a>

</figure>

<p></p>

       <p>Python Script 5.2</p>


       <pre><code class = "language-python">
       v = sympy . limit ( s * Gs , s , 0)
            print ( ' The velocity error Kv is : ')
            print ( Kv )
            mag , phase , omega = bode ( sys )
            real , imag , freq = nyquist ( sys , labelFreq =10)
       </code>
</pre>

<p>                                                                                                                 </p>


<figure id="autoid-14" class="figure">

<p>
<a href="Assignments/A1/ipython_files/qt_img494204706881540.png" target="_blank"
><img src="Assignments/A1/ipython_files/qt_img494204706881540.png"
alt="[qt_img494204706881540]"
style="width:304pt;"
class="inlineimage"
></a></p>


<figcaption>

<p><a id="autoid-14"></a>Figure&nbsp;5.2:&nbsp;Bode Plot</p>




</figcaption>

</figure>

<figure id="autoid-15" class="figure">

<p>
<a href="Assignments/A1/ipython_files/qt_img492813137477636.png" target="_blank"
><img src="Assignments/A1/ipython_files/qt_img492813137477636.png"
alt="[qt_img492813137477636]"
style="width:304pt;"
class="inlineimage"
></a></p>


<figcaption>

<p><a id="autoid-15"></a>Figure&nbsp;5.3:&nbsp;Nyquist Plot</p>




</figcaption>

</figure>
<div class="center">
<p><b> ELEC 460 — Control Theory II</b> </p>


</div>

<p><b>Name:</b> David Li <span style="width:16.99585pt; display:inline-block"></span> <b>Student
Number:</b> V00818631<br />
<b>Due Date:</b> Thursday, 11 January 2018, 11:30 AM <span style="width:16.99585pt;
display:inline-block"></span> <b>Assignment:</b> Number 1<br />
</p>
<h5 id="autosec-77"> 1. Sketch the root locus</h5><a id="autopage-77"></a>
<h4 id="autosec-78"> </h4><a id="autopage-78"></a>

<figcaption>


</figcaption>
<p></p>
<pre><code class = "language-matlab">
G1 = zpk ([] ,[0 , -1 , -20] ,20) % create transfer function
figure (1); rlocus ( G1 ) % Plot root locus
</code>
</pre>

<p></p>

<figcaption>

</figcaption>

<figure id="autoid-16" class="figure">

<p>
<a href="Assignments/A1/ELEC460A1_01.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_01.png"
alt="[ELEC460A1_01]"
style="width:304pt;"
class="inlineimage"
></a></p>


<figcaption>

<p><a id="autoid-16"></a>Figure&nbsp;5.4:&nbsp;Root Locus when K =1</p>




</figcaption>

</figure>
<h5 id="autosec-80"> 2. Find Kv.</h5><a id="autopage-80"></a>
<h4 id="autosec-81"> </h4><a id="autopage-81"></a>

<p>Using the final value theorem: \(x(\infty ) = \mathop {\lim }\limits _{s \to 0} sX(s)\)<br />
</p>


<figcaption>


</figcaption>
<p></p>
<pre><code class = "language-matlab">
syms s ; Kv = limit ( s *20/( s *( s +1)*( s +20)) , s ,0) % compute Kv using limits
</code>
</pre>

<p></p>

<figcaption>

</figcaption>
<h5 id="autosec-83"> 3. Sketch Bode and Nyquist plots.</h5><a id="autopage-83"></a>

<figcaption>


</figcaption>
<p></p>
<pre><code class = "language-matlab">
figure (2); bode ( G1 )
figure (3); nyquist ( G1 )
</code>
</pre>

<p></p>

<figcaption>

</figcaption>

<figure id="autoid-17" class="figure">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:231pt ; ">
<p>
<a href="Assignments/A1/ELEC460A1_02.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_02.png"
alt="[ELEC460A1_02]"
style="width:206pt;"
class="inlineimage"
></a></p>


<figcaption>
<p><a id="autoid-17"></a>Figure&nbsp;5.5:&nbsp;Bode plot when K=1</p>



</figcaption>
</div>


&#x2001;

&#x2001;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:231pt ; ">
<p>
<a href="Assignments/A1/ELEC460A1_03.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_03.png"
alt="[ELEC460A1_03]"
style="width:206pt;"
class="inlineimage"
></a></p>


<figcaption>
<p><a id="autoid-17"></a>Figure&nbsp;5.6:&nbsp;Nyquist plot when K=1</p>



</figcaption>
</div>


</figure>
<h5 id="autosec-87"> 4. Find K so that \(\zeta =\sqrt (2)/2\) for the closed loop system.</h5><a
id="autopage-87"></a>

<p>Using the root locus the value K at which \(\zeta \) is 0.7071 is: 0.476.</p>
<h5 id="autosec-88"> 5. Find phase and gain margins for this K.</h5><a id="autopage-88"></a>

<figcaption>


</figcaption>
<p></p>
<pre><code class = "language-matlab">
G1new = zpk ([] ,[0 , -1 , -20] ,20* K )
figure (5); margin ( G1new )
</code>
</pre>

<p></p>

<figcaption>

</figcaption>

<figure id="autoid-18" class="figure">

<p>
<a href="Assignments/A1/ELEC460A1_05.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_05.png"
alt="[ELEC460A1_05]"
style="width:304pt;"
class="inlineimage"
></a></p>


<figcaption>

<p><a id="autoid-18"></a>Figure&nbsp;5.7:&nbsp;Phase and Gain Margin in Bode Plot</p>




</figcaption>

</figure>
<h5 id="autosec-90"> 6. Sketch the step and ramp responses of the closed loop system for this K</h5><a
id="autopage-90"></a>

<figcaption>


</figcaption>
<p></p>
<pre><code class = "language-matlab">
G1tfnew = tf ( G1new )
subplot (2 ,1 ,1); step ( G1tfnew ); % % create subplot for step function
ramps = tf ([1 ,0] ,[1]);
subplot (2 ,1 ,2); step ( G1tfnew / ramps ); % % create subplot for ramp function
</code>
</pre>

<p></p>

<figcaption>

</figcaption>

<figure id="autoid-19" class="figure">

<p>
<a href="Assignments/A1/ELEC460A1_06.png" target="_blank"
><img src="Assignments/A1/ELEC460A1_06.png"
alt="[ELEC460A1_06]"
style="width:304pt;"
class="inlineimage"
></a></p>


<figcaption>

<p><a id="autoid-19"></a>Figure&nbsp;5.8:&nbsp;Step Response of Transfer function with K = 0.479</p>




</figcaption>

</figure>
<h5 id="autosec-92"> 7. Discuss the connection between Kv, zeta, margins and the response of the closed loop
system.</h5><a id="autopage-92"></a>

<p>The value of Kv is 1, so the steady state velocity error is constant. Additionally the system is stable because of a
positive phase and gain margin. Finally, the value of \(\zeta = 0.7071\) corresponds to a gain of 0.427.<br />
</p>


</section>

<footer>

</footer>

<nav class="botnavigation"><a href="index.html" class="linkhome"
>Home</a></nav>

</body>
</html>
